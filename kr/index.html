<!DOCTYPE html>
<html lang="kr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="ui.title">Card Fusion Probability Calculator</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>

<h1 data-i18n="ui.title">Card Fusion Probability Calculator</h1>

<div class="top-right">
  <a href="/" class="lang-btn">EN</a>
  <a href="/kr/" class="lang-btn active">KR</a>
  <a href="/br/" class="lang-btn">BR</a>
  <div class="help-btn" data-i18n="ui.howToUse" onclick="showHelp()">How to use</div>
</div>

<div class="top-panel">
  <div id="summaryText" data-i18n="ui.noCards">No cards selected</div>
  <button onclick="showDetails()" class="details-btn" data-i18n="ui.details">See details</button>
</div>

<div class="toolbar">
  <div class="controls">
    <button onclick="resetCards()" data-i18n="ui.reset">Reset</button>
    <button onclick="selectAll()" data-i18n="ui.selectAll">Select All</button>
    <button onclick="reverseSelect()" data-i18n="ui.reverse">Reverse</button>
  </div>

  <div class="filters">
    <span data-i18n="ui.region">Region</span>:
    <select id="filterRegion" onchange="renderTable()">
      <option value="" data-i18n="ui.all">All</option>
      <option value="A">A</option>
      <option value="B">B</option>
    </select>

    <span data-i18n="ui.group">Group</span>:
    <select id="filterGroup" onchange="renderTable()">
      <option value="" data-i18n="ui.all">All</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
    </select>
  </div>

  <div class="search-box">
    <span class="search-icon">üîç</span>
    <input id="searchBox" type="text" oninput="renderTable()" 
           data-i18n="ui.search" placeholder="Search cards..." />
  </div>
</div>

<table>
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th data-i18n="ui.cardName">Card</th>
      <th class="sortable" onclick="sortTable('point')">
        <span data-i18n="ui.points">Point</span>
        <span class="sort-indicator" id="sort-point"></span>
      </th>
      <th class="sortable" onclick="sortTable('group')">
        <span data-i18n="ui.group">Group</span>
        <span class="sort-indicator" id="sort-group"></span>
      </th>
      <th data-i18n="ui.region">Region</th>
      <th class="sortable" onclick="sortTable('id')">
        <span data-i18n="ui.number">No.</span>
        <span class="sort-indicator" id="sort-id"></span>
      </th>
    </tr>
  </thead>
  <tbody id="cardTable"></tbody>
</table>

<!-- Modals -->
<div id="helpModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('helpModal')">&times;</span>
    <h2 data-i18n="help.title">How to Use</h2>
    <div id="helpContent" data-i18n-html="help.content"></div>
  </div>
</div>

<div id="detailsModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('detailsModal')">&times;</span>
    <h2 data-i18n="ui.detailsTitle">Selected Cards Details</h2>
    <div id="detailsContent"></div>
  </div>
</div>

<script>
  window.CURRENT_LANG = 'kr';
  window.BASE_PATH = '..';
</script>
<script src="../i18n.js"></script>
<script src="../app.js"></script>
</body>
</html>